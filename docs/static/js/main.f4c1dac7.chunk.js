(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(69)},40:function(e,t,a){},42:function(e,t,a){},48:function(e,t){e.exports="data:image/png;base64,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"},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),o=a.n(c),l=(a(40),a(7)),s=a(8),i=a(11),m=a(9),u=a(10),d=(a(42),a(71)),p=a(73),h=a(72),b=a(4),f=a(12),v=function(e){return r.a.createElement("div",{className:"container"},e.children)},E=(a(48),a(70)),y=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light rounded"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExample10","aria-controls":"navbarsExample10","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse justify-content-md-center",id:"navbarsExample10"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.a,{to:"/",className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.a,{to:"/my-likes",className:"nav-link"},"Likes")))))},g=a(16),j=a(32),A=a.n(j).a.create({baseURL:"https://api.producthunt.com/v1/",headers:{Authorization:"Bearer ".concat("1ea43068072b29c813e7b9503132dd915247a0ee96696e896429d2e8f005a651")}}),k=function(e){return function(t){return t({type:"products",payload:[]}),t({type:"comments",payload:[]}),A.get("posts?day=".concat(e)).then(function(e){return e.data.posts.length>0?e.data.posts:[]}).then(function(e){t({type:"products",payload:e})})}},N=function(e,t){return function(a,n){return A.get("comments?search[post_id]=".concat(e,"&per_page=5&page=").concat(t,"&sort_by=updated_at")).then(function(e){var t=n();return e.data.comments.length>0?t.main.comments?[].concat(Object(g.a)(t.main.comments),Object(g.a)(e.data.comments)):e.data.comments:Object(g.a)(t.main.comments)}).then(function(e){a({type:"comments",payload:e})})}},O=function(e){return function(t){return A.post("posts/".concat(e,"/vote")).then(function(e){})}},w=function(e){function t(e){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"post-container"},this.props.posts.map(function(t){return r.a.createElement("div",{className:"card",key:t.id,style:{marginBottom:"5px"}},r.a.createElement("div",{className:"card-body",style:{fload:"left"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-1"},r.a.createElement("img",{className:"card-img-left",height:"80",src:t.thumbnail.image_url,alt:t.name,style:{fload:"left"}})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(E.a,{to:"/post/".concat(t.id,"/comments")},r.a.createElement("h5",{className:"card-title"},t.name),r.a.createElement("div",null,t.tagline)),r.a.createElement("span",{className:"badge badge-secondary",onClick:function(){return e.props.voteUpHandler(t.id)}},r.a.createElement("i",{className:"fa fa-caret-up","aria-hidden":"true"}),"\xa0",t.votes_count),"\xa0",r.a.createElement("span",{className:"badge badge-secondary"},r.a.createElement("i",{className:"far fa-comments","aria-hidden":"true"}),"\xa0",t.comments_count)))))}))}}]),t}(r.a.Component),H=function(e){var t;return r.a.createElement("div",{className:"card",style:{backgroundColor:"#f8f9fa!important"}},r.a.createElement("div",{className:"row justify-content-center card-body"},r.a.createElement("form",{className:"form-inline my-2 my-lg-0",onSubmit:(t=e.searchHandler,function(e){e.preventDefault(),t()})},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"yyyy/mm/dd",onChange:function(t){return e.changeHandler(t.target.value)},defaultValue:e.date}),r.a.createElement("button",{className:"btn btn-outline-primary my-2 my-sm-0",type:"submit"},"Search"))))},R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={date:null},a.defaultDate=(new Date).toLocaleDateString(),a.dateChangeHandler=a.dateChangeHandler.bind(Object(b.a)(Object(b.a)(a))),a.searchHandler=a.searchHandler.bind(Object(b.a)(Object(b.a)(a))),a.unVoteHandler=a.unVoteHandler.bind(Object(b.a)(Object(b.a)(a))),a.voteUpHandler=a.voteUpHandler.bind(Object(b.a)(Object(b.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(k(this.defaultDate))}},{key:"voteUpHandler",value:function(e){this.props.dispatch(O(e))}},{key:"unVoteHandler",value:function(e){this.props.dispatch(O(e))}},{key:"dateChangeHandler",value:function(e){this.setState({date:e})}},{key:"searchHandler",value:function(){var e=new Date(this.state.date);e instanceof Date&&!isNaN(e)&&this.props.dispatch(k(e.toLocaleDateString()))}},{key:"render",value:function(){return r.a.createElement(v,null,r.a.createElement(y,null),r.a.createElement("br",null),r.a.createElement(H,{date:this.state.date,searchHandler:this.searchHandler,changeHandler:this.dateChangeHandler}),r.a.createElement("br",null),r.a.createElement(w,{posts:this.props.products||[],voteUpHandler:this.voteUpHandler,unVoteHandler:this.unVoteHandler}))}}]),t}(r.a.Component);var S=Object(f.b)(function(e){return{products:e.main.products}},null)(R),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e;this.props.dispatch((e=1637884,function(t){return t({type:"comments",payload:[]}),t({type:"likes",payload:[]}),A.get("users/".concat(e,"/votes")).then(function(e){return e.data.votes.length>0?e.data.votes.map(function(e){return e.post}):[]}).then(function(e){t({type:"likes",payload:e})})}))}},{key:"render",value:function(){return r.a.createElement(v,null,r.a.createElement(y,null),r.a.createElement("br",null),r.a.createElement(w,{posts:this.props.likes||[],voteUpHandler:this.voteUpHandler,unVoteHandler:this.unVoteHandler}))}}]),t}(r.a.Component);var T=Object(f.b)(function(e){return{likes:e.main.likes}},null)(I),L=function(e){return e.comments.map(function(e){return r.a.createElement("div",{className:"card",key:e.id,style:{marginTop:"5px"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",null,e.body)))})},V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={offset:1},a.loadMoreHandler=a.loadMoreHandler.bind(Object(b.a)(Object(b.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(N(this.props.pid,this.state.offset))}},{key:"loadMoreHandler",value:function(){var e=this;this.setState(function(e){return{offset:e.offset+1}},function(){console.log("[offset]",e.state),e.props.dispatch(N(e.props.pid,e.state.offset))})}},{key:"render",value:function(){return console.log("[render comment]",this.props),r.a.createElement(v,null,r.a.createElement(y,null),r.a.createElement("br",null),r.a.createElement(L,{comments:this.props.comments||[]}),r.a.createElement("br",null),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.loadMoreHandler},"Load More")))}}]),t}(r.a.Component);var x=Object(f.b)(function(e){return{comments:e.main.comments}},null)(V),C=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{basename:"/haptik_assessment"},r.a.createElement(p.a,null,r.a.createElement(h.a,{path:"/post/:pid/comments"},function(e){return r.a.createElement(x,{pid:e.match.params.pid})}),r.a.createElement(h.a,{path:"/my-likes",component:T}),r.a.createElement(h.a,{path:"/",exact:!0,component:S})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=a(13),G=a(34),M=a(17),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"products":return Object(M.a)({},e,{products:t.payload});case"likes":return Object(M.a)({},e,{likes:t.payload});case"comments":return Object(M.a)({},e,{comments:t.payload});default:return e}},P=Object(J.c)({main:B}),q=function(e){return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},e.children)},K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={hasError:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(q,null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component),W=Object(J.a)(G.a)(J.d);o.a.render(r.a.createElement(f.a,{store:W(P)},r.a.createElement(K,null,r.a.createElement(C,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,2,1]]]);
//# sourceMappingURL=main.f4c1dac7.chunk.js.map