(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(68)},40:function(e,t,a){},42:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),o=a.n(c),l=(a(40),a(7)),s=a(8),i=a(11),m=a(9),u=a(10),d=(a(42),a(70)),p=a(72),h=a(71),f=a(4),b=a(12),v=function(e){return r.a.createElement("div",{className:"container"},e.children)},y=a(69),E=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light rounded"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExample10","aria-controls":"navbarsExample10","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M40 20c0 11.046-8.954 20-20 20S0 31.046 0 20 8.954 0 20 0s20 8.954 20 20",fill:"#DA552F"}),r.a.createElement("path",{d:"M22.667 20H17v-6h5.667a3 3 0 0 1 0 6m0-10H13v20h4v-6h5.667a7 7 0 1 0 0-14",fill:"#FFF"}))),r.a.createElement("div",{className:"collapse navbar-collapse justify-content-md-center",id:"navbarsExample10"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(y.a,{to:"/",className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(y.a,{to:"/my-likes",className:"nav-link"},"Likes")))))},g=a(16),j=a(32),O=a.n(j).a.create({baseURL:"https://api.producthunt.com/v1/",headers:{Authorization:"Bearer ".concat("1ea43068072b29c813e7b9503132dd915247a0ee96696e896429d2e8f005a651")}}),k=function(e){return function(t){return t({type:"products",payload:[]}),t({type:"comments",payload:[]}),O.get("posts?day=".concat(e)).then(function(e){return e.data.posts.length>0?e.data.posts:[]}).then(function(e){t({type:"products",payload:e})})}},H=function(e,t){return function(a,n){return O.get("comments?search[post_id]=".concat(e,"&per_page=5&page=").concat(t,"&sort_by=updated_at")).then(function(e){var t=n();return e.data.comments.length>0?t.main.comments?[].concat(Object(g.a)(t.main.comments),Object(g.a)(e.data.comments)):e.data.comments:Object(g.a)(t.main.comments)}).then(function(e){a({type:"comments",payload:e})})}},N=function(e){return function(t){return O.post("posts/".concat(e,"/vote")).then(function(e){})}},w=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"post-container"},this.props.posts.map(function(t){return r.a.createElement("div",{className:"card",key:t.id,style:{marginBottom:"5px"}},r.a.createElement("div",{className:"card-body",style:{fload:"left"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("img",{className:"card-img-top",src:t.thumbnail.image_url,alt:t.name,style:{fload:"left"}})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(y.a,{to:"/post/".concat(t.id,"/comments")},r.a.createElement("h5",{className:"card-title"},t.name),r.a.createElement("div",null,t.tagline)),r.a.createElement("span",{className:"badge badge-secondary",onClick:function(){return e.props.voteUpHandler(t.id)}},r.a.createElement("i",{className:"fa fa-caret-up","aria-hidden":"true"}),"\xa0",t.votes_count),"\xa0",r.a.createElement("span",{className:"badge badge-secondary"},r.a.createElement("i",{className:"far fa-comments","aria-hidden":"true"}),"\xa0",t.comments_count)))))}))}}]),t}(r.a.Component),C=function(e){var t;return r.a.createElement("div",{className:"card",style:{backgroundColor:"#f8f9fa!important"}},r.a.createElement("div",{className:"row justify-content-center card-body"},r.a.createElement("form",{className:"form-inline my-2 my-lg-0",onSubmit:(t=e.searchHandler,function(e){e.preventDefault(),t()})},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"yyyy/mm/dd",onChange:function(t){return e.changeHandler(t.target.value)},defaultValue:e.date}),r.a.createElement("button",{className:"btn btn-outline-primary my-2 my-sm-0 filter-btn",type:"submit"},"Search"))))},D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={date:null},a.defaultDate=(new Date).toLocaleDateString(),a.dateChangeHandler=a.dateChangeHandler.bind(Object(f.a)(Object(f.a)(a))),a.searchHandler=a.searchHandler.bind(Object(f.a)(Object(f.a)(a))),a.unVoteHandler=a.unVoteHandler.bind(Object(f.a)(Object(f.a)(a))),a.voteUpHandler=a.voteUpHandler.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(k(this.defaultDate))}},{key:"voteUpHandler",value:function(e){this.props.dispatch(N(e))}},{key:"unVoteHandler",value:function(e){this.props.dispatch(N(e))}},{key:"dateChangeHandler",value:function(e){this.setState({date:e})}},{key:"searchHandler",value:function(){var e=new Date(this.state.date);e instanceof Date&&!isNaN(e)&&this.props.dispatch(k(e.toLocaleDateString()))}},{key:"render",value:function(){return r.a.createElement(v,null,r.a.createElement(E,null),r.a.createElement("br",null),r.a.createElement(C,{date:this.state.date,searchHandler:this.searchHandler,changeHandler:this.dateChangeHandler}),r.a.createElement("br",null),r.a.createElement(w,{posts:this.props.products||[],voteUpHandler:this.voteUpHandler,unVoteHandler:this.unVoteHandler}))}}]),t}(r.a.Component);var x=Object(b.b)(function(e){return{products:e.main.products}},null)(D),M=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e;this.props.dispatch((e=1637884,function(t){return t({type:"comments",payload:[]}),t({type:"likes",payload:[]}),O.get("users/".concat(e,"/votes")).then(function(e){return e.data.votes.length>0?e.data.votes.map(function(e){return e.post}):[]}).then(function(e){t({type:"likes",payload:e})})}))}},{key:"render",value:function(){return r.a.createElement(v,null,r.a.createElement(E,null),r.a.createElement("br",null),r.a.createElement(w,{posts:this.props.likes||[],voteUpHandler:this.voteUpHandler,unVoteHandler:this.unVoteHandler}))}}]),t}(r.a.Component);var S=Object(b.b)(function(e){return{likes:e.main.likes}},null)(M),U=function(e){return e.comments.map(function(e){return r.a.createElement("div",{className:"card",key:e.id,style:{marginTop:"5px"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",null,e.body)))})},V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={offset:1},a.loadMoreHandler=a.loadMoreHandler.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(H(this.props.pid,this.state.offset))}},{key:"loadMoreHandler",value:function(){var e=this;this.setState(function(e){return{offset:e.offset+1}},function(){console.log("[offset]",e.state),e.props.dispatch(H(e.props.pid,e.state.offset))})}},{key:"render",value:function(){return console.log("[render comment]",this.props),r.a.createElement(v,null,r.a.createElement(E,null),r.a.createElement("br",null),r.a.createElement(U,{comments:this.props.comments||[]}),r.a.createElement("br",null),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.loadMoreHandler},"Load More")))}}]),t}(r.a.Component);var _=Object(b.b)(function(e){return{comments:e.main.comments}},null)(V),B=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{basename:"/haptik_assessment"},r.a.createElement(p.a,null,r.a.createElement(h.a,{path:"/post/:pid/comments"},function(e){return r.a.createElement(_,{pid:e.match.params.pid})}),r.a.createElement(h.a,{path:"/my-likes",component:S}),r.a.createElement(h.a,{path:"/",exact:!0,component:x})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(13),L=a(34),A=a(17),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"products":return Object(A.a)({},e,{products:t.payload});case"likes":return Object(A.a)({},e,{likes:t.payload});case"comments":return Object(A.a)({},e,{comments:t.payload});default:return e}},R=Object(F.c)({main:J}),T=function(e){return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},e.children)},W=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={hasError:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(T,null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component),z=Object(F.a)(L.a)(F.d);o.a.render(r.a.createElement(b.a,{store:z(R)},r.a.createElement(W,null,r.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,2,1]]]);
//# sourceMappingURL=main.97dd0756.chunk.js.map